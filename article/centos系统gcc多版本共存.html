<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>centos系统gcc多版本共存</title>
    <link rel="icon" href="../static/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="static/css/styles.css"> <!-- 静态文件的链接 -->
    <!-- 引入 highlight.js 的 CSS 样式 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">

</head>
<body>
    <header>
        <div class="navbar container">
            <div class="menu">
                <div class="nav-title"><a href="/index.html">各自花开</a></div>
                <ul class="nav-menu">
                    
                        <li><a href="/index.html">首页</a></li>
                        <li><a href="/categories.html">分类</a>
                        <li><a href="/tags.html">标签</a>






                        <li><a href="webnav.html">网址导航</a></li>
                        <li><a href="https://www.baidu.com" target="_blank">资源分享
                        <!-- 外部链接图标 -->
                        <img src="../static/img/分享_share.png" alt="外部链接" style="position: absolute; top: 0; right: 0; width: 12px; height: 12px;transform: translateX(100%)">
                        </a></li>
                        <li><a href="/search.html">搜索</a></li>
                    
                </ul>
            </div>
        </div>
    </header>
    <div id="app" class="container">

            
            


        <div class="main container">
                
    <div class="content article-content">
        <h3>centos系统gcc多版本共存</h3>
        <div class="tag-container">
        








            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>linux</a>
            </span>
            

        </div>
        
        <div class="container article">
            <h2>说明</h2>
<p>由于gcc编译安装非常费时，今天介绍一个gcc多版本共存的方案。需要某个版本的gcc就切换到某个版本</p>
<p>首先安装centos的第三方库scl,scl可以在不覆盖原有系统软件的情况下安装新的软件包与系统自带软件包共存，只支持64位系统安装</p>
<h2>查看当前系统gcc版本</h2>
<pre class="codehilite"><code class="language-bash">gcc --version
</code></pre>

<h2>安装scl第三方源，并安装高版本gcc</h2>
<pre class="codehilite"><code class="language-bash">yum -y install centos-release-scl
</code></pre>

<p><strong>1. 安装gcc7.3</strong></p>
<pre class="codehilite"><code class="language-bash">yum -y install devtoolset-7-gcc devtoolset-7-gcc-c++ devtoolset-7-binutils
</code></pre>

<p><strong>2. 安装gcc8.3</strong></p>
<pre class="codehilite"><code class="language-bash">yum -y install devtoolset-8-gcc devtoolset-8-gcc-c++ devtoolset-8-binutils
</code></pre>

<h2>scl命令查看以安装gcc版本和版本切换</h2>
<pre class="codehilite"><code class="language-bash">scl --list 
scl -l

#切换到gcc-7
scl enable devtoolset-7 bash

# 切换到gcc-8
scl enable devtoolset-8 bash
</code></pre>

<p><strong>注意:</strong>
scl命令切换gcc版本是临时生效，退出shell或重启系统会恢复原系统gcc版本
若要设置长期生效，可将命令加入环境变量</p>
<pre class="codehilite"><code class="language-bash">echo &quot;scl enable devtoolset-7 bash&quot; &gt;&gt; /etc/profile
</code></pre>

<h2>以停止支持的4.8/4.9/5.2的安装</h2>
<pre class="codehilite"><code class="language-bash"># gcc 4.8
wget http://people.centos.org/tru/devtools-2/devtools-2.repo -O /etc/yum.repos.d/devtoolset-2.repo
yum -y install devtoolset-2-gcc devtoolset-2-gcc-c++ devtoolset-2-binutils


# gcc 4.9
wget https://copr.fedoraproject.org/coprs/rhscl/devtoolset-3/repo/epel-6/rhscl-devtoolset-3-epel-6.repo -O /etc/yum.repos.d/devtoolset-3.repo
yum -y install devtoolset-3-gcc devtoolset-3-gcc-c++ devtoolset-3-binutils

# gcc 5.2
wget https://copr.fedoraproject.org/coprs/hhorak/devtoolset-4-rebuild-bootstrap/repo/epel-6/hhorak-devtoolset-4-rebuild-bootstrap-epel-6.repo -O /etc/yum.repos.d/devtoolset-4.repo
yum install devtoolset-4-gcc devtoolset-4-gcc-c++ devtoolset-4-binutils -y
</code></pre>
        </div>
        
    </div>



                


        </div>

    </div>
    <footer>
        
        <p>&copy; 2024 | 我的博客. 保留所有权利。</p>
    <!--    <p><a href="/privacy">隐私政策</a> | <a href="/terms">使用条款</a></p>-->
        
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <!-- 在页面加载完成后启用代码高亮 -->
    <script>
        // 等待页面加载完成后执行高亮
        document.addEventListener('DOMContentLoaded', function() {
            // 启用 highlight.js 代码高亮
            hljs.highlightAll();
        });
    </script>


</html>