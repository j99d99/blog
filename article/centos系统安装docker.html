<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>centos系统安装docker</title>
    <link rel="icon" href="../static/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="static/css/styles.css"> <!-- 静态文件的链接 -->
    <!-- 引入 highlight.js 的 CSS 样式 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">

</head>
<body>
    <header>
        <div class="navbar container">
            <div class="menu">
                <div class="nav-title"><a href="/index.html">各自花开</a></div>
                <ul class="nav-menu">
                    
                        <li><a href="/index.html">首页</a></li>
                        <li><a href="/categories.html">分类</a>
                        <li><a href="/tags.html">标签</a>






                        <li><a href="webnav.html">网址导航</a></li>
                        <li><a href="https://www.baidu.com" target="_blank">资源分享
                        <!-- 外部链接图标 -->
                        <img src="../static/img/分享_share.png" alt="外部链接" style="position: absolute; top: 0; right: 0; width: 12px; height: 12px;transform: translateX(100%)">
                        </a></li>
                        <li><a href="/search.html">搜索</a></li>
                    
                </ul>
            </div>
        </div>
    </header>
    <div id="app" class="container">

            
            


        <div class="main container">
                
    <div class="content article-content">
        <h3>centos系统安装docker</h3>
        <div class="tag-container">
        








            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>docker</a>
            </span>
            

        </div>
        
        <div class="container article">
            <h3>docker的安装</h3>
<h4>docker概述</h4>
<p>Docker是一个用于开发，交付和运行应用程序的开放平台。Docker使您能够将应用程序与基础架构分开，从而可以快速交付软件。借助Docker，您可以以与管理应用程序相同的方式来管理基础架构。通过利用Docker的方法来快速交付，测试和部署代码，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。</p>
<!--more-->
<h4>docker安装</h4>
<h5>移除旧版本</h5>
<pre class="codehilite"><code class="language-bash">yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
</code></pre>

<h5>安装docker依赖</h5>
<pre class="codehilite"><code class="language-bash">yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2
</code></pre>

<h5>添加docker稳定yum源</h5>
<pre class="codehilite"><code class="language-bash">yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre>

<h5>安装docker</h5>
<pre class="codehilite"><code class="language-bash">yum install -y docker-ce docker-ce-cli containerd.io
</code></pre>

<p>安装指定版本docker使用如下命令</p>
<pre class="codehilite"><code class="language-bash">yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io
</code></pre>

<h5>配置docker镜像加速和私有仓库(非必须)</h5>
<pre class="codehilite"><code class="language-bash">mkdir /etc/docker
cat &lt;&lt; EOF &gt; /etc/docker/daemon.json
{
    &quot;registry-mirrors&quot;: [&quot;https://k9e55i4n.mirror.aliyuncs.com&quot;],
    #private repository
    #&quot;insecure-registries&quot;: [&quot;127.0.0.1:5000&quot;],
    &quot;log-driver&quot;: &quot;json-file&quot;,
    &quot;log-opts&quot;:{
    &quot;max-size&quot;: &quot;10m&quot;,
    &quot;max-file&quot;: &quot;10&quot;
    },
    &quot;bip&quot;:&quot;172.20.0.1/16&quot;,
    &quot;data-root&quot;: &quot;/data/docker&quot;
}
EOF
</code></pre>

<h5>设置docker开机自启动</h5>
<pre class="codehilite"><code class="language-bash">systemctl daemon-reload
systemctl enable docker
systemctl start docker
</code></pre>

<p><strong>若要修改docker驱动为systemd</strong></p>
<pre class="codehilite"><code class="language-bash">vim /usr/lib/systemd/system/docker.service
ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --exec-opt native.cgroupdriver=systemd
#或者执行
sed -i '/ExecStart/ s/$/ --exec-opt native.cgroupdriver=systemd/' /usr/lib/systemd/system/docker.service

#重启docker服务
systemctl daemon-reload
systemctl restart docker
</code></pre>
        </div>
        
    </div>



                


        </div>

    </div>
    <footer>
        
        <p>&copy; 2024 | 我的博客. 保留所有权利。</p>
    <!--    <p><a href="/privacy">隐私政策</a> | <a href="/terms">使用条款</a></p>-->
        
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <!-- 在页面加载完成后启用代码高亮 -->
    <script>
        // 等待页面加载完成后执行高亮
        document.addEventListener('DOMContentLoaded', function() {
            // 启用 highlight.js 代码高亮
            hljs.highlightAll();
        });
    </script>


</html>