<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>linux下mysql的安装(二进制源码安装)</title>
    <link rel="icon" href="../static/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="../static/css/styles.css"> <!-- 静态文件的链接 -->
    <!-- 引入 highlight.js 的 CSS 样式 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">

</head>
<body>
    <header>
        <div class="navbar container">
            <div class="menu">
                <div class="nav-title"><a href="/index.html">各自花开</a></div>
                <ul class="nav-menu">
                    
                        <li><a href="/index.html">首页</a></li>
                        <li><a href="/categories.html">分类</a>
                        <li><a href="/tags.html">标签</a>






                        <li><a href="webnav.html">网址导航</a></li>
                        <li><a href="https://www.baidu.com" target="_blank">资源分享
                        <!-- 外部链接图标 -->
                        <img src="../static/img/分享_share.png" alt="外部链接" style="position: absolute; top: 0; right: 0; width: 12px; height: 12px;transform: translateX(100%)">
                        </a></li>
                        <li><a href="/search.html">搜索</a></li>
                    
                </ul>
            </div>
        </div>
    </header>
    <div id="app" class="container">

            
            


        <div class="main container">
                
    <div class="content article-content">
        <h3>linux下mysql的安装(二进制源码安装)</h3>
        <div class="tag-container">
        








            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>linux</a>
            </span>
            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>mysql</a>
            </span>
            

        </div>
        
        <div class="container article">
            <p>mysql的安装方法很多。这里向大家介绍一下本人常用的安装方式，通过下载编译好的文件进行安装</p>
<h2>mysql下载地址</h2>
<pre class="codehilite"><code class="language-bash">https://dev.mysql.com/downloads/mysql/5.6.html
</code></pre>

<h2>mysql的安装</h2>
<ul>
<li>创建mysql用户和用户</li>
</ul>
<pre class="codehilite"><code class="language-bash">groupadd mysql
useradd -g mysql -s /sbin/nologin mysql
</code></pre>

<ul>
<li>创建mysql安装目录</li>
</ul>
<!--more-->

<pre class="codehilite"><code class="language-bash">mkdir /data/mysql/logs -p   #mysql日志存放目录
mkdr /data/mysql/tmp -p     #mysql临时文件存放目录
mkdir /data/mysql/data -p   #mysql数据存放目录
</code></pre>

<ul>
<li>解压mysql文件并初始化安装</li>
</ul>
<pre class="codehilite"><code class="language-bash">#解压mysql二进制包并移动到安装目录/usr/local/mysql
tar zxvf mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz
mv mysql-5.6.25-linux-glibc2.5-x86_64 /usr/local/mysql
\\cp -r my.cnf /etc/my.cnf
#对文件夹进行授权操作
chown -R mysql.mysql /data/mysql
#初始化mysql
/usr/local/mysql/scripts/mysql\_install\_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql/data --defaults-file=/etc/my.cnf
#mysql启动脚本并设置开机自启动
cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld
chkconfig --add mysqld
chkconfig mysqld on
#创建mysql软链接，也可设置环境变量
ln -s /usr/local/mysql/bin/mysqldump /usr/bin/mysqldump
ln -s /usr/local/mysql/bin/mysql /usr/bin/mysql
</code></pre>

<h2>mysql设置密码</h2>
<h3>初次登录修改mysql@localhosts密码(mysql5.7以上)</h3>
<pre class="codehilite"><code class="language-bash">ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass';
</code></pre>

<h3>对于5.6的初始root密码除了上述方式也可使用下面的方式</h3>
<p>初始安装完成后的mysql是没有密码的，可根据提示进行密码设置，也可以使用以下命令对mysql进行密码设置。</p>
<pre class="codehilite"><code class="language-bash">#授权root账号通过localhost连接mysql
mysql -e &quot;GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY 'xxxxx' WITH GRANT OPTION;&quot;
flush privileges;
</code></pre>

<h2>如果是centos7则添加mysql启动脚本</h2>
<p>1 创建mysqld.service文件</p>
<pre class="codehilite"><code class="language-bash">vim /usr/lib/systemd/system/mysqld.service
[Unit]
Description=MySQLD
SourcePath=/etc/init.d/mysqld
 # 关机前操作
Before=shutdown.target
[Service]
# 此用户必须存在，即为启动mysql的用户
User=mysql 
Type=forking
ExecStart=/etc/init.d/mysqld start
ExecStop=/etc/init.d/mysqld stop
[Install]
WantedBy=multi-user.target
</code></pre>

<p>2 重新加载一个服务的配置文件</p>
<pre class="codehilite"><code class="language-bash">root@localhost:~# systemctl daemon-reload
</code></pre>

<p>3 使用systemctl启动服务</p>
<pre class="codehilite"><code class="language-bash">root@localhost:~# systemctl start mysqld.service
</code></pre>

<p>mysql的安装很简单。到此安装工作就已经完成啦</p>
<p>附上脚本mysql_install.sh</p>
<pre class="codehilite"><code class="language-bash">#!/bin/bash
groupadd mysql
useradd -g mysql -s /sbin/nologin mysql
tar zxvf mysql-5.6.25-linux-glibc2.5-x86_64.tar.gz
mv mysql-5.6.25-linux-glibc2.5-x86_64 /usr/local/mysql
\\cp -r my.cnf /etc/my.cnf
mkdir -p /data/mysql/tmp
mkdir -p /data/mysql/logs 
chown -R mysql.mysql /data/mysql
/usr/local/mysql/scripts/mysql\_install\_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql/data --defaults-file=/etc/my.cnf
cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld
chkconfig --add mysqld
chkconfig mysqld on
ln -s /usr/local/mysql/bin/mysqldump /usr/bin/mysqldump
ln -s /usr/local/mysql/bin/mysql /usr/bin/mysql
#mysql -e &quot;GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY '' WITH GRANT OPTION;&quot;
#flush privileges;
</code></pre>
        </div>
        
    </div>



                


        </div>

    </div>
    <footer>
        
        <p>&copy; 2024 | 我的博客. 保留所有权利。</p>
    <!--    <p><a href="/privacy">隐私政策</a> | <a href="/terms">使用条款</a></p>-->
        
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <!-- 在页面加载完成后启用代码高亮 -->
    <script>
        // 等待页面加载完成后执行高亮
        document.addEventListener('DOMContentLoaded', function() {
            // 启用 highlight.js 代码高亮
            hljs.highlightAll();
        });
    </script>


</html>