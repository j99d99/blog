<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>linux经常使用的一些配置</title>
    <link rel="icon" href="../static/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="../static/css/styles.css"> <!-- 静态文件的链接 -->
    <!-- 引入 highlight.js 的 CSS 样式 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">

</head>
<body>
    <header>
        <div class="navbar container">
            <div class="menu">
                <div class="nav-title"><a href="/index.html">各自花开</a></div>
                <ul class="nav-menu">
                    
                        <li><a href="/index.html">首页</a></li>
                        <li><a href="/categories.html">分类</a>
                        <li><a href="/tags.html">标签</a>






                        <li><a href="webnav.html">网址导航</a></li>
                        <li><a href="https://www.baidu.com" target="_blank">资源分享
                        <!-- 外部链接图标 -->
                        <img src="../static/img/分享_share.png" alt="外部链接" style="position: absolute; top: 0; right: 0; width: 12px; height: 12px;transform: translateX(100%)">
                        </a></li>
                        <li><a href="/search.html">搜索</a></li>
                    
                </ul>
            </div>
        </div>
    </header>
    <div id="app" class="container">

            
            


        <div class="main container">
                
    <div class="content article-content">
        <h3>linux经常使用的一些配置</h3>
        <div class="tag-container">
        








            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>linux</a>
            </span>
            

        </div>
        
        <div class="container article">
            <h2>centos7安装mysql客户端命令</h2>
<pre class="codehilite"><code class="language-bash"># mysql5.7
rpm -ivh https://repo.mysql.com//mysql57-community-release-el7-11.noarch.rpm
yum install -y mysql-community-client

# mysql5.6
rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
yum install -y mysql-community-client
</code></pre>

<h2>生成root随机密码并保存到文件</h2>
<pre class="codehilite"><code class="language-bash">#!/bin/bash
echo &quot;root&quot;:\`date +%s | sha256sum | base64 | head -c 16 | tee /root/.passwd\`  | chpasswd
chattr +i /root/.passwd
chattr +i /root/.ssh/authorized_keys
</code></pre>

<h2>date常用计算</h2>
<pre class="codehilite"><code class="language-bash"># 日期，时间格式化
date '+%Y-%m-%d %H:%M:%S'
# 结果
# 2021-08-25 04:49:17


# 任意日期的前N天，后N天
date +%F -d '20210825 1 day'    #后面一天
date +%F -d '20210825 -1 day'   #前面一天

# 计算两个日期相差天数
d1=$(date +%s -d 20210820)
d2=$(date +%s -d 20210825)
echo $(((d2-d1)/86400))
</code></pre>

<h2>修改系统时区</h2>
<p>修改时区为上海时区</p>
<pre class="codehilite"><code class="language-bash">mv /etc/localtime{,.bak}
cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre>

<h2>yum 下载但不安装rpm依赖</h2>
<p>有些时候，我们经常遇到通过yum来下载对应的rpm依赖包，而不在系统上进行安装，具体操作如下</p>
<ul>
<li>1.安装下载插件</li>
</ul>
<pre class="codehilite"><code class="language-bash">yum -y install yum-plugin-downloadonly
</code></pre>

<ul>
<li>2.使用命令，保存到/tmp目录</li>
</ul>
<pre class="codehilite"><code class="language-bash">yum -y install --downloadonly --downloaddir=/tmp/
</code></pre>

<ul>
<li>3.安装
注意不要指定具体的包名，否则还会从repo库寻找安装</li>
</ul>
<pre class="codehilite"><code class="language-bash">yum localinstall *
</code></pre>

<h2>jdk环境变量设置</h2>
<p>windows:</p>
<pre class="codehilite"><code class="language-bash">#CLASSPATH
.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar
#JAVA_HOME
#jdk安装路径
C:\Program Files\Java\jdk1.6.0_14(64位系统的64位版本)
C:\Program Files (x86)\Java\jdk1.6.0_14（64位系统的32位版本）
#PATH
;%JAVA_HOME%\bin
</code></pre>

<p>Linux:</p>
<pre class="codehilite"><code class="language-bash">vim /etc/profile
#jdk安装路径
JAVA_HOME=/usr/java/jdk1.6.0_30/
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
PATH=$PATH:$JAVA_HOME/bin
export JAVA_HOME CLASSPATH PATH
</code></pre>

<h2>tomcat按天分割日志</h2>
<p>一.安装cronolog分割软件</p>
<p>```wp-block-preformatted bash
yum install -y cronolog</p>
<pre class="codehilite"><code>二.修改tomcat启动文件catalina.sh

```wp-block-preformatted bash
org.apache.catalina.startup.Bootstrap &quot;$@&quot; start \
      &gt;&gt; &quot;$CATALINA_OUT&quot; 2&gt;&amp;1 &quot;&amp;&quot;
</code></pre>

<p>修改为</p>
<p>```wp-block-preformatted bash
org.apache.catalina.startup.Bootstrap "$@" start 2&gt;&amp;1 \
        "|/usr/sbin/cronolog $CATALINA_BASE/logs/catalina.%Y-%m-%d.out" &gt;/dev/null 2&gt;&amp;1 "&amp;"</p>
<pre class="codehilite"><code>## 普通用户设置开机自启(tomcat)
```bash
#配置开机自启
cat /etc/rc.local
/bin/bash /data/scripts/start_tomcat.sh
#脚本内容
cat /data/scripts/start_tomcat.sh
for i in /usr/local/tomcat_*
do
su - admin $i/bin/catalina.sh start
done
</code></pre>

<h2>tab补全安装</h2>
<pre class="codehilite"><code class="language-bash">yum install -y bash-completion package
</code></pre>
        </div>
        
    </div>



                


        </div>

    </div>
    <footer>
        
        <p>&copy; 2024 | 我的博客. 保留所有权利。</p>
    <!--    <p><a href="/privacy">隐私政策</a> | <a href="/terms">使用条款</a></p>-->
        
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <!-- 在页面加载完成后启用代码高亮 -->
    <script>
        // 等待页面加载完成后执行高亮
        document.addEventListener('DOMContentLoaded', function() {
            // 启用 highlight.js 代码高亮
            hljs.highlightAll();
        });
    </script>


</html>