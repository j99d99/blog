<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>源码安装php</title>
    <link rel="icon" href="../static/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="static/css/styles.css"> <!-- 静态文件的链接 -->
    <!-- 引入 highlight.js 的 CSS 样式 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">

</head>
<body>
    <header>
        <div class="navbar container">
            <div class="menu">
                <div class="nav-title"><a href="/index.html">各自花开</a></div>
                <ul class="nav-menu">
                    
                        <li><a href="/index.html">首页</a></li>
                        <li><a href="/categories.html">分类</a>
                        <li><a href="/tags.html">标签</a>






                        <li><a href="webnav.html">网址导航</a></li>
                        <li><a href="https://www.baidu.com" target="_blank">资源分享
                        <!-- 外部链接图标 -->
                        <img src="../static/img/分享_share.png" alt="外部链接" style="position: absolute; top: 0; right: 0; width: 12px; height: 12px;transform: translateX(100%)">
                        </a></li>
                        <li><a href="/search.html">搜索</a></li>
                    
                </ul>
            </div>
        </div>
    </header>
    <div id="app" class="container">

            
            


        <div class="main container">
                
    <div class="content article-content">
        <h3>源码安装php</h3>
        <div class="tag-container">
        








            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>linux</a>
            </span>
            
                <span>
                <img src="../static/img/标签_tag-one.png" class="img-icon">
                <a>php</a>
            </span>
            

        </div>
        
        <div class="container article">
            <h2>下载php源码</h2>
<pre class="codehilite"><code class="language-bash">wget https://www.php.net/distributions/php-7.4.21.tar.gz
</code></pre>

<h2>安装</h2>
<!--more-->
<h3>安装依赖</h3>
<pre class="codehilite"><code class="language-bash">yum install -y epel-release &amp;&amp; yum -y install gcc oniguruma-devel libzip-devel make gd-devel openssl-devel libicu-devel gcc-c++ sqlite-devel libjpeg-devel libpng-devel libxml2-devel bzip2-devel libcurl-devel
</code></pre>

<h3>解压并进入解压目录</h3>
<pre class="codehilite"><code class="language-bash">tar zxvf php-7.4.21.tar.gz
cd php-7.4.21
</code></pre>

<h3>编译安装</h3>
<pre class="codehilite"><code class="language-bash">./configure  \
                --with-config-file-path=/etc/php7 \
                --with-fpm-user=nginx \
                --with-fpm-group=nginx \
                --enable-fpm \
                --enable-opcache \
                --enable-inline-optimization \
                --disable-debug \
                --disable-rpath \
                --enable-shared \
                -enable-mysqlnd \
                --with-mysqli=mysqlnd \
                --with-pdo-mysql=mysqlnd \
                --enable-mysqlnd-compression-support \
                --with-iconv-dir \
                --with-zlib \
                --enable-xml \
                --disable-rpath \
                --enable-bcmath \
                --enable-shmop \
                --enable-sysvsem \
                --enable-inline-optimization \
                --with-curl \
                --enable-mbregex \
                --enable-mbstring \
                --enable-intl \
                --enable-ftp \
                --enable-gd \
                --enable-gd-jis-conv \
                --with-jpeg   \
                --with-freetype  \
                --with-openssl \
                --with-mhash \
                --enable-pcntl \
                --enable-sockets \
                --with-xmlrpc \
                --with-zip \
                --enable-soap \
                --with-gettext \
                --disable-fileinfo \
                --with-pear \
                --enable-maintainer-zts \
                --without-gdbm  

make
make install
</code></pre>

<h3>拷贝配置文件</h3>
<pre class="codehilite"><code class="language-bash">cp php.ini-production /etc/php.ini
cd sapi/fpm
cp init.d.php-fpm /etc/init.d/php-fpm
chmod +x /etc/init.d/php-fpm 
chkconfig --add php-fpm
chkconfig php-fpm on
#进入安装目录操作
cp /etc/php-fpm.d/www.conf.default  php-fpm.d/www.conf
cp /etc/php-fpm.conf.default /etc/php-fpm.conf
</code></pre>
        </div>
        
    </div>



                


        </div>

    </div>
    <footer>
        
        <p>&copy; 2024 | 我的博客. 保留所有权利。</p>
    <!--    <p><a href="/privacy">隐私政策</a> | <a href="/terms">使用条款</a></p>-->
        
    </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
 <!-- 在页面加载完成后启用代码高亮 -->
    <script>
        // 等待页面加载完成后执行高亮
        document.addEventListener('DOMContentLoaded', function() {
            // 启用 highlight.js 代码高亮
            hljs.highlightAll();
        });
    </script>


</html>